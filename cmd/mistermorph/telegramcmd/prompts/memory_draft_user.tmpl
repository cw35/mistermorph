{
  "session_context": {{toJSON .SessionContext}},
  "conversation": {{toJSON .Conversation}},
  "existing_session_summary": {{toJSON .ExistingSessionSummary}},
  "existing_temporary_facts": {{toJSON .ExistingTemporaryFacts}},
  "rules": [
    "Short-term memory is public. Do NOT include private or sensitive info in summary/session_summary/temporary_facts.",
    "Use the same language as the user for titles and values; keep Session Summary keys labeled as Users/Datetime/Event/Result.",
    "Session summary items must be single-topic. Set title to the topic name.",
    "Session summary value must be newline-separated key-value lines: Users: ..., Datetime: ..., Event: ..., Result: ... (omit unknowns).",
    "If session_context includes counterparty info, use it instead of generic labels like \"user\".",
    "Temporary facts title is the fact group name; value is newline-separated key-value lines (e.g., 网站 URL: ..., API 示例: ...).",
    "Temporary facts should preserve key metadata such as URLs, terms, identifiers, IDs, or ticket numbers when they matter to future work.",
    "Keep items concise but specific.",
    "Prefer to reuse concise wording from existing_session_summary/existing_temporary_facts when adding updates.",
    "Long-term promotion must be extremely strict: only include ONE precious, long-lived item at most, and only if the user explicitly asked to remember it.",
    "Do NOT promote one-off details or time-bound items.",
    "If unsure, leave the field empty."
  ]
}

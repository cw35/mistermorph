package contacts

import "context"

type Store interface {
	Ensure(ctx context.Context) error

	GetContact(ctx context.Context, contactID string) (Contact, bool, error)
	PutContact(ctx context.Context, contact Contact) error
	ListContacts(ctx context.Context, status Status) ([]Contact, error)
	SetContactStatus(ctx context.Context, contactID string, status Status) (Contact, error)

	GetBusOutboxRecord(ctx context.Context, channel string, idempotencyKey string) (BusOutboxRecord, bool, error)
	PutBusOutboxRecord(ctx context.Context, record BusOutboxRecord) error
}
